language: haskell
ghc:
  - 7.6
  - 7.8
install:
  - cabal install packdeps      # To check dependencies
  - cabal sandbox init
  - cabal install --enable-tests --only-dependencies
script:
  - packdeps keyring.cabal
  - cabal configure --enable-tests --ghc-options='-Wall -Werror' --flags 'example allbackends'
  - cabal build
  - cabal test
